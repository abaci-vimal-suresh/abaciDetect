//
//	Subheader
//

@use 'sass:math';
@use 'sass:map';

.subheader {
	--#{$prefix}subheader-bg: #{rgba(
 map.get($subheader, background-color),
	map.get($subheader, opacity))
}

;

--#{$prefix}subheader-color: #{if(
 map.get($subheader, color),
map.get($subheader, color),
color-contrast(map.get($subheader, background-color), map.get($subheader, color-dark)))
}

;

--#{$prefix}subheader-border-bottom-color: #{map.get($subheader, border-color)};

@include dark-mode {
	--#{$prefix}subheader-bg: rgba(65, 49, 64, 0.5);
	--#{$prefix}subheader-color: #{if(
 map.get($subheader, color),
	color-contrast(map.get($subheader, dark-background-color),
		map.get($subheader, color-dark)),
	map.get($subheader, color))
}

;
--#{$prefix}subheader-border-bottom-color: #{map.get($subheader, dark-border-color)};
}

@include padding(math.div($spacer, 2.5) $spacer);

position: sticky;
z-index: 1030;
top: map.get($header, height);
display: flex;
min-height: map.get($subheader, height);
align-items: center;

// Glass container — matching header transparency
background-color: rgba($body-bg, 0.72);
backdrop-filter: blur(18px) saturate(1.4);
-webkit-backdrop-filter: blur(18px) saturate(1.4);

// Professional accent border-bottom
border-bottom: 2px solid transparent;
border-image: linear-gradient(90deg,
	rgba(122, 58, 111, 0.5) 0%,
	rgba(122, 58, 111, 0.15) 40%,
	transparent 100%) 1;

// Minimal shadow — just a subtle bottom edge
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
margin: 0;
width: 100%;

// Smooth transition for theme switching
transition: background-color 0.3s ease,
box-shadow 0.3s ease,
border-image 0.3s ease;

@include dark-mode {
	background-color: rgba($dark-body-bg, 0.72);
	backdrop-filter: blur(18px) saturate(1.3);
	-webkit-backdrop-filter: blur(18px) saturate(1.3);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
	color: var(--#{$prefix}subheader-color);
	border-image: linear-gradient(90deg,
			rgba(180, 130, 170, 0.35) 0%,
			rgba(180, 130, 170, 0.1) 40%,
			transparent 100%) 1;
}

color: var(--#{$prefix}subheader-color);
font-weight: 500;
letter-spacing: 0.01em;

@at-root .header+.content & {
	top: map.get($header, height);
	margin: 0;
	width: 100%;
}

@include media-breakpoint-down(map.get($aside, mobile-breakpoint)) {
	min-height: fit-content;

	>* {
		@include padding-top($spacer);
		@include padding-bottom($spacer);
	}
}
}

// If header is fly
@include header-modern {
	.modern-design .subheader {
		@include margin-left($grid-gutter-width * 0.5);
		@include margin-right($grid-gutter-width * 0.5);
		@include border-radius($modern-design-radius);
		border-bottom: 0;
	}
}

.subheader-left {
	@include child-space;
	display: flex;
	align-items: center;
	gap: 0.75rem;

	@include media-breakpoint-down(sm) {
		@include child-space-bottom;
		flex-direction: column;
		align-items: flex-start;
	}
}

.subheader-right {
	@include child-space;
	display: flex;
	align-items: center;
	gap: 0.5rem;
}

.subheader-separator {
	height: 1.5rem;
	border-left: 1.5px solid rgba(map-deep-get($subheader, separator, border-color), 0.4);
	margin: 0 0.25rem;

	@include media-breakpoint-down(sm) {
		display: none;
	}
}