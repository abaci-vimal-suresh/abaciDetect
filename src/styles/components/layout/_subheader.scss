//
//	Subheader
//

@use 'sass:math';
@use 'sass:map';

.subheader {
	--#{$prefix}subheader-bg: #{rgba(
 map.get($subheader, background-color),
	map.get($subheader, opacity))
}

;

--#{$prefix}subheader-color: #{if(
 map.get($subheader, color),
map.get($subheader, color),
color-contrast(map.get($subheader, background-color), map.get($subheader, color-dark)))
}

;

--#{$prefix}subheader-border-bottom-color: #{map.get($subheader, border-color)};

@include dark-mode {
	--#{$prefix}subheader-bg: rgba(65, 49, 64, 0.5);
	--#{$prefix}subheader-color: #{if(
 map.get($subheader, color),
	color-contrast(map.get($subheader, dark-background-color),
		map.get($subheader, color-dark)),
	map.get($subheader, color))
}

;
--#{$prefix}subheader-border-bottom-color: #{map.get($subheader, dark-border-color)};
}

@include padding(0 $spacer);

position: sticky;
z-index: 1030; // Higher z-index so content scrolls underneath
top: map.get($header, height); // Align exactly below header
display: flex;
min-height: map.get($subheader, height);
align-items: center;
border-bottom: 0;

// Neumorphic Styling with backdrop blur
background-color: rgba($body-bg, 0.95); // More opaque
backdrop-filter: blur(10px); // Blur effect for content underneath
-webkit-backdrop-filter: blur(10px); // Safari support
box-shadow: $box-shadow-sm;
border-radius: 0; // Flush alignment
margin: 0;
width: 100%;

@include dark-mode {
	background-color: rgba($dark-body-bg, 0.95); // More opaque dark mode
	backdrop-filter: blur(10px);
	-webkit-backdrop-filter: blur(10px);
	box-shadow: none;
	color: var(--#{$prefix}subheader-color);
}

color: var(--#{$prefix}subheader-color);

@at-root .header+.content & {
	top: map.get($header, height);
}

@include media-breakpoint-down(map.get($aside, mobile-breakpoint)) {
	min-height: fit-content;

	>* {
		@include padding-top($spacer);
		@include padding-bottom($spacer);
	}
}
}

// If header is fly
@include header-modern {
	.modern-design .subheader {
		@include margin-left($grid-gutter-width * 0.5);
		@include margin-right($grid-gutter-width * 0.5);
		@include border-radius($modern-design-radius);
		border-bottom: 0;
	}
}

.subheader-left {
	@include child-space;
	display: flex;
	align-items: center;

	@include media-breakpoint-down(sm) {
		@include child-space-bottom;
		flex-direction: column;
		align-items: flex-start;
	}
}

.subheader-right {
	@include child-space;
	display: flex;
	align-items: center;
}

.subheader-separator {
	height: 2rem;
	border-left: 1px solid map-deep-get($subheader, separator, border-color);

	@include media-breakpoint-down(sm) {
		display: none;
	}
}