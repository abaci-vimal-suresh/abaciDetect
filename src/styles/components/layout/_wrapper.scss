//
//  Wrapper
//

@use 'sass:map';

.wrapper {
	display: flex;
	flex: 1 auto;
	flex-direction: column;
	transition: $transition-base;

	// Aside minimized
	@include aside-close-wrapper {
		@include media-breakpoint-down(map-get($aside, mobile-breakpoint)) {
			left: 0;
		}

		@include media-breakpoint-up(map-get($aside, mobile-breakpoint)) {
			padding-left: map-deep-get($aside, minimize, width);
		}
	}

	@include aside-close-wrapper(true) {
		@include media-breakpoint-up(map-get($aside, mobile-breakpoint)) {
			padding-left: map-deep-get($aside, minimize, width) + $spacer;
		}
	}

	// Modern design touch-close state
	@include aside-touch-close-wrapper {
		@include media-breakpoint-up(map-get($aside, mobile-breakpoint)) {
			padding-left: $modern-design-size * 0.2;
		}
	}

	// Aside present â€” offset wrapper to the right
	.aside~& {
		padding-left: map.get($aside, width) + $spacer;

		@include media-breakpoint-down(map-get($aside, mobile-breakpoint)) {
			position: relative;
			left: map-deep-get($aside, width);
			padding-left: 0;
		}
	}

	// Modern design aside offset
	@at-root .modern-design .aside~& {
		@include aside-modern {
			padding-left: map.get($aside, width) + $spacer;
		}
	}

	// Right panel active
	&.wrapper-right-panel-active {
		width: calc(100% - #{$offcanvas-horizontal-width});
	}
}

// Wrapper overlay (e.g. when aside or right panel opens)
.wrapper-overlay {
	@include backdrop-filter-blur($overlay-backdrop-filter);

	position: fixed;
	z-index: $zindex-fixed;
	width: 100vw;
	height: 100vh;
	animation: fadeIn 0.2s;
	animation-fill-mode: forwards;
	animation-iteration-count: 1;
	animation-timing-function: ease-in-out;
	background: rgba($overlay-background-color, $overlay-background-opacity);
	opacity: 0;
	transition: $transition-base;
}